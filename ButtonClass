import java.awt.Color;
import java.awt.Font;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JComponent;

public class ButtonClass extends JButton
{	
	private static final Font smallFont = new Font("Verdana", Font.BOLD, 20);
	private static final Color numbersBgColor = new Color(48, 50, 52);
	private static final Color specialBgColor = new Color(175, 143, 233);
	private static final Color borderColor = new Color(8, 2, 36);
	/* TODO
	 * Set different background colors depending on the button
	 * 
	*/
	
	
	public void setOpacity(float opacity) 
	{
		this.setBackground(new Color(
				(float)this.getBackground().getRed() / 255, 
				(float)this.getBackground().getGreen() / 255, 
				(float)this.getBackground().getBlue() / 255,
				opacity));
		
	    MainClass.buttonPanel.repaint();
	}

	/*
	@Override
	public void paint(Graphics g) 
	{   
		//Color newBG = new Color(0.18824f, 0.196f, 0.2039f, opacity);
	    
	    //this.setBackground(newBG);
	    //this.setForeground(Color.WHITE);
	    
	    
	    Graphics2D g2 = (Graphics2D) g.create();
	    
	    super.paint(g2);
	    //super.setForeground(Color.WHITE);
	    g2.dispose();
	    
	}
 */

	
	ButtonClass(String text)
	{
		this.setText(text);
		this.setFont(ButtonClass.smallFont);
		this.setForeground(Color.WHITE);
		
		try
		{
			Integer.parseInt(text);
			this.setBackground(ButtonClass.numbersBgColor);
		}
		catch(Exception e)
		{
			this.setBackground(ButtonClass.specialBgColor);
		}
		
		
		this.setOpacity(0.2f);
		this.setBorder(BorderFactory.createLineBorder(ButtonClass.borderColor));
		this.addActionListener(e -> 
		{
			MainClass.updateForButtons(text);
		});
		
		// The mouse hover effect
		this.addMouseListener(new MouseAdapter() 
		{
		    public void mouseEntered(MouseEvent evt) 
		    {
		    	setBorder(BorderFactory.createLineBorder(Color.WHITE));
		    	setOpacity(0.4f);
		    }

		    public void mouseExited(MouseEvent evt) 
		    {
		    	setBorder(BorderFactory.createLineBorder(ButtonClass.borderColor));
		    	setOpacity(0.2f);
		    }
		});
	}
	
	public JComponent getButton()
	{
		return this;
	}
}
